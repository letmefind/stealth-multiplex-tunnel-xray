# ุชููู ุงุณุชู ฺูุฏฺฏุงูู Xray

[![English](https://img.shields.io/badge/Language-English-blue.svg)](README.md)
[![Persian](https://img.shields.io/badge/ุฒุจุงู-ูุงุฑุณ-green.svg)](README_FA.md)

---

## ูุงุฑุณ

ฺฉ ุฑุงูโุญู ุชููู ุงุณุชู ุขูุงุฏู ุชููุฏ ฺฉู ุงุฒ ูพุฑูุชฺฉูโูุง ูุชุนุฏุฏ (VLESS/Trojan) ู ฺฏุฒููโูุง ุงููุช (TLS/Reality) ุจุง ูพุดุชุจุงู ฺูุฏูพูุฑุช ู ูพฺฉุฑุจูุฏ ุชุนุงูู ูพุดุชุจุงู ูโฺฉูุฏ.

### ๐ ูฺฺฏโูุง

- **ูพุดุชุจุงู ฺูุฏูพุฑูุชฺฉู**: ูพุฑูุชฺฉูโูุง VLESS ู Trojan
- **ฺฏุฒููโูุง ุงููุช ูุชุนุฏุฏ**: ุงููุช TLS ู Reality
- **ูพุดุชุจุงู ฺูุฏูพูุฑุช**: ูุฏุฑุช ูพูุง ูพูุฑุชโูุง
- **ูุตุจ ุชุนุงูู**: ูุฑุขูุฏ ุฑุงูโุงูุฏุงุฒ ฺฉุงุฑุจุฑูพุณูุฏ
- **ุขูุงุฏู ุชููุฏ**: ุงุจุฒุงุฑูุง ูุธุงุฑุช ู ูุฏุฑุช ุฌุงูุน
- **ูฺฺฏโูุง ุงุณุชู**: ุณุงุชโูุง ูุฑุจุ ุชูููโูุง ูุฎูุ ุงุซุฑ ุงูฺฏุดุช Chrome
- **Reality ูพุดุฑูุชู**: ุดูุงุณูโูุง ฺฉูุชุงู ูุชุนุฏุฏุ ููุงุตุฏ ุณูุงุฑุด
- **ูพุดุชุจุงู XHTTP**: ูพฺฉุฑุจูุฏ ฺฉุงูู XHTTP ุจุง ุชูุธูุงุช ุณูฺฉุช

### ๐ ุดุฑูุน ุณุฑุน

```bash
# ฺฉููู ฺฉุฑุฏู ูุฎุฒู
git clone https://github.com/letmefind/stealth-multiplex-tunnel-xray.git
cd stealth-multiplex-tunnel-xray

# ุงุฌุฑุง ูุตุจโฺฉููุฏู ฺฉูพุงุฑฺู
sudo bash install.sh
```

ูุตุจโฺฉููุฏู ฺฉูพุงุฑฺู:
- ุงุฒ ุดูุง ูโูพุฑุณุฏ ฺฉุฏุงู ุณุฑูุฑ ุฑุง ูุตุจ ูโฺฉูุฏ (A ุง B)
- ุงุทูุงุนุงุช ุชูุตู ุฏุฑ ููุฑุฏ ูุฑ ููุน ุณุฑูุฑ ุงุฑุงุฆู ูโุฏูุฏ
- ุงุณฺฉุฑูพุช ูุตุจ ููุงุณุจ ุฑุง ุงุฌุฑุง ูโฺฉูุฏ
- ุฑุงูููุง ูพุณ ุงุฒ ูุตุจ ุฑุง ูุดุงู ูโุฏูุฏ

### ๐๏ธ ูุนูุงุฑ

- **ุณุฑูุฑ A (ูุฑูุฏ)**: ุงุชุตุงูุงุช ุฑุง ุฑู ูพูุฑุชโูุง ูุชุนุฏุฏ ูโูพุฐุฑุฏ ู ุขูโูุง ุฑุง ุงุฒ ุทุฑู ุชููู ุงุณุชู ุงุฑุณุงู ูโฺฉูุฏ
- **ุณุฑูุฑ B (ฺฏุฑูุฏู)**: ุชุฑุงูฺฉ ุชููู ุดุฏู ุฑุง ูพุดุช Nginx ุจุง ุฎุงุชูู TLS ู ุณุงุช ูุฑุจ ุฏุฑุงูุช ูโฺฉูุฏ

### ๐ ุณุงุฎุชุงุฑ ูพุฑูฺู

```
stealth-multiplex-tunnel-xray/
โโโ install.sh                    # ูุตุจโฺฉููุฏู ฺฉูพุงุฑฺู
โโโ README.md                     # ูุณุชูุฏุงุช ุฌุงูุน
โโโ README_FA.md                  # ูุณุชูุฏุงุช ูุงุฑุณ
โโโ .env.example                  # ุงูฺฏู ูพฺฉุฑุจูุฏ
โโโ .gitignore                    # ููุงูู ูุงุฏุฏูโฺฏุฑ Git
โโโ CONFIGURATION_EXAMPLES.md     # ูููููโูุง ูพฺฉุฑุจูุฏ
โโโ PROJECT_SUMMARY.md            # ุฎูุงุตู ุชูุตู ูพุฑูฺู
โโโ scripts/
โ   โโโ install_a.sh            # ูุตุจโฺฉููุฏู ุณุฑูุฑ A
โ   โโโ install_b.sh            # ูุตุจโฺฉููุฏู ุณุฑูุฑ B
โ   โโโ manage_ports.sh         # ุงุจุฒุงุฑ ูุฏุฑุช ูพูุฑุช
โ   โโโ backup_config.sh        # ุงุจุฒุงุฑ ูพุดุชุจุงูโฺฏุฑ ูพฺฉุฑุจูุฏ
โ   โโโ status.sh               # ุงุจุฒุงุฑ ูุธุงุฑุช ูุถุนุช
โโโ systemd/
โ   โโโ xray-a.service          # ุณุฑูุณ systemd ุณุฑูุฑ A
โ   โโโ xray-b.service          # ุณุฑูุณ systemd ุณุฑูุฑ B
โโโ nginx/
โ   โโโ stealth-8081.conf       # ุงูฺฏู ูพฺฉุฑุจูุฏ Nginx
โโโ xray/
    โโโ templates/
        โโโ a.tmpl.json         # ุงูฺฏู Xray ุณุฑูุฑ A
        โโโ b.tmpl.json         # ุงูฺฏู Xray ุณุฑูุฑ B
```

### ๐ง ูุฑุขูุฏ ูุตุจ

#### ูุตุจ ูุณุชูู

ุงฺฏุฑ ุชุฑุฌุญ ูโุฏูุฏ ูุตุจโฺฉููุฏูโูุง ุฑุง ูุณุชููุงู ุงุฌุฑุง ฺฉูุฏ:

#### 1. ูุตุจ ุณุฑูุฑ B (ฺฏุฑูุฏู)

```bash
# ุงุฌุฑุง ูุตุจโฺฉููุฏู ุชุนุงูู
sudo bash scripts/install_b.sh
```

ูุตุจโฺฉููุฏู ุงุฒ ุดูุง ูโูพุฑุณุฏ:
- ูุงู ุณุฑูุฑ (ุฏุงููู ุดูุง)
- ูพูุฑุช TLS (ูพุดโูุฑุถ: 8081)
- ูุณุฑ ุงุณุชู (ูพุดโูุฑุถ: /assets)
- ุงูุชุฎุงุจ ูพุฑูุชฺฉู (VLESS ุง Trojan)
- ุงูุชุฎุงุจ ุงููุช (TLS ุง Reality)
- ุญุงูุช ฺฏูุงู (ุงุณุชูุงุฏู ุงุฒ ููุฌูุฏ ุง Certbot)
- UUID (ุฏุฑ ุตูุฑุช ุนุฏู ุงุฑุงุฆู ุฎูุฏฺฉุงุฑ ุชููุฏ ูโุดูุฏ)
- ูพุดุชุจุงู ูพุฑูุชฺฉู ูพุฑูฺฉุณ
- ุจูููโุณุงุฒ TCP BBR
- ุงุฌุงุฏ ุณุงุช ูุฑุจ

#### 2. ูุตุจ ุณุฑูุฑ A (ูุฑูุฏ)

```bash
# ุงุฌุฑุง ูุตุจโฺฉููุฏู ุชุนุงูู
sudo bash scripts/install_a.sh
```

ูุตุจโฺฉููุฏู ุงุฒ ุดูุง ูโูพุฑุณุฏ:
- ุฏุงููู ุณุฑูุฑ B (ุจุงุฏ ุจุง ูพฺฉุฑุจูุฏ ุณุฑูุฑ B ูุทุงุจูุช ุฏุงุดุชู ุจุงุดุฏ)
- ูพูุฑุช TLS ุณุฑูุฑ B
- ูุณุฑ ุงุณุชู (ุจุงุฏ ุจุง ุณุฑูุฑ B ูุทุงุจูุช ุฏุงุดุชู ุจุงุดุฏ)
- ุงูุชุฎุงุจ ูพุฑูุชฺฉู (ุจุงุฏ ุจุง ุณุฑูุฑ B ูุทุงุจูุช ุฏุงุดุชู ุจุงุดุฏ)
- ุงูุชุฎุงุจ ุงููุช (ุจุงุฏ ุจุง ุณุฑูุฑ B ูุทุงุจูุช ุฏุงุดุชู ุจุงุดุฏ)
- ูพูุฑุชโูุง ูุฌุงุฒ ฺฉูุงูุช (ุฌุฏุง ุดุฏู ุจุง ฺฉุงูุงุ ูุซูุงู: 80,443,8080,8443)
- UUID (ุจุงุฏ ุจุง ุณุฑูุฑ B ูุทุงุจูุช ุฏุงุดุชู ุจุงุดุฏ)
- ุจูููโุณุงุฒ TCP BBR

#### 3. ูุฏุฑุช ูพูุฑุชโูุง (ุงุฎุชุงุฑ)

ูพุณ ุงุฒ ูุตุจุ ูพูุฑุชโูุง ุฑุง ุฑู ุณุฑูุฑ A ุงุถุงูู ุง ุญุฐู ฺฉูุฏ:

```bash
# ุงูุฒูุฏู ูพูุฑุช ุฌุฏุฏ
sudo bash scripts/manage_ports.sh add 8443

# ุญุฐู ูพูุฑุช
sudo bash scripts/manage_ports.sh remove 8080

# ููุฑุณุช ูพูุฑุชโูุง ูุนู
sudo bash scripts/manage_ports.sh list
```

### ๐ก๏ธ ูฺฺฏโูุง ุงููุช

#### ูุฏุฑุช ฺฏูุงู
- **ุญุงูุช TLS**: ูุงุฒ ุจู ฺฏูุงู SSL ูุนุชุจุฑ ุจุฑุง ุฏุงููู
- **ุญุงูุช Reality**: ุงุฒ ุชููุฏ ฺฏูุงู ูุจุชู ุจุฑ SNI ุงุณุชูุงุฏู ูโฺฉูุฏุ ูุงุฒ ุจู ฺฏูุงู ูุงูุน ูุณุช
- **ฺฉูพุงุฑฺฺฏ Certbot**: ูพุดุชุจุงู ุงุฒ ุชูุฏุฏ ุฎูุฏฺฉุงุฑ ฺฏูุงู

#### ูพฺฉุฑุจูุฏ ูุงุฑูุงู
ูุตุจโฺฉููุฏูโูุง ุณุน ูโฺฉููุฏ ููุงูู ูุงุฑูุงู UFW ุฑุง ูพฺฉุฑุจูุฏ ฺฉููุฏ. ุจุฑุง ูุงุฑูุงูโูุง ุฏฺฏุฑุ ูพฺฉุฑุจูุฏ ุฏุณุช ููฺฉู ุงุณุช ููุฑุฏ ูุงุฒ ุจุงุดุฏ:

```bash
# ูุซุงู ููุงูู iptables ุจุฑุง ุณุฑูุฑ A
iptables -A INPUT -p tcp --dport 80 -j ACCEPT
iptables -A INPUT -p tcp --dport 443 -j ACCEPT
iptables -A INPUT -p tcp --dport 8080 -j ACCEPT
iptables -A INPUT -p tcp --dport 8443 -j ACCEPT

# ูุซุงู ููุงูู iptables ุจุฑุง ุณุฑูุฑ B
iptables -A INPUT -p tcp --dport 8081 -j ACCEPT
```

#### ุงููุช UUID
- UUIDูุง ูู ู ููุญุตุฑ ุจู ูุฑุฏ ุจุฑุง ูุฑ ูุตุจ ุชููุฏ ฺฉูุฏ
- ุจุฑุง ุงููุช ุจุดุชุฑุ UUIDูุง ุฑุง ุจู ุตูุฑุช ุฏูุฑูโุง ุชุบุฑ ุฏูุฏ
- ูุฑฺฏุฒ UUIDูุง ุฑุง ุฏุฑ ูุงฺฏโูุง ุง ูุณุชูุฏุงุช ุจู ุงุดุชุฑุงฺฉ ูฺฏุฐุงุฑุฏ

### ๐ ุงุจุฒุงุฑูุง ูุฏุฑุช

#### ูุฏุฑุช ูพูุฑุช
```bash
# ุงูุฒูุฏู ูพูุฑุช ุฌุฏุฏ
sudo bash scripts/manage_ports.sh add 8443

# ุญุฐู ูพูุฑุช
sudo bash scripts/manage_ports.sh remove 8080

# ููุฑุณุช ูพูุฑุชโูุง ูพฺฉุฑุจูุฏ ุดุฏู
sudo bash scripts/manage_ports.sh list
```

#### ูพุดุชุจุงูโฺฏุฑ ูพฺฉุฑุจูุฏ
```bash
# ุงุฌุงุฏ ูพุดุชุจุงู
sudo bash scripts/backup_config.sh create

# ููุฑุณุช ูพุดุชุจุงูโูุง
sudo bash scripts/backup_config.sh list

# ุจุงุฒุงุจ ุงุฒ ูพุดุชุจุงู
sudo bash scripts/backup_config.sh restore backup_20231201_120000

# ูพุงฺฉ ฺฉุฑุฏู ูพุดุชุจุงูโูุง ูุฏู
sudo bash scripts/backup_config.sh clean
```

#### ูุธุงุฑุช ูุถุนุช
```bash
# ฺฏุฒุงุฑุด ูุถุนุช ุชูุตู
sudo bash scripts/status.sh status

# ุจุฑุฑุณ ุณุฑุน ูุถุนุช
sudo bash scripts/status.sh quick

# ุจุฑุฑุณ ุงุฌุฒุง ุฎุงุต
sudo bash scripts/status.sh services
sudo bash scripts/status.sh ports
sudo bash scripts/status.sh configs
sudo bash scripts/status.sh logs
sudo bash scripts/status.sh resources
sudo bash scripts/status.sh connectivity
```

### ๐งช ุชุณุช ู ุชุฃุฏ

#### ุจุฑุฑุณโูุง ุณูุงูุช ุณุฑูุฑ B

```bash
# ุจุฑุฑุณ ุงูฺฉู ุณุงุช ูุฑุจ ูุงุจู ุฏุณุชุฑุณ ุงุณุช
curl -I https://your-domain.com:8081/

# ุจุฑุฑุณ ุงูฺฉู ูุณุฑ ุชููู ูพุงุณุฎ ูโุฏูุฏ (ูุจุงุฏ ุชููู ุขุดฺฉุงุฑ ุฑุง ูุดุงู ุฏูุฏ)
curl -I https://your-domain.com:8081/assets

# ุจุฑุฑุณ ูุถุนุช ุณุฑูุณ Xray
systemctl status xray-b

# ุจุฑุฑุณ ูุงฺฏโูุง
journalctl -u xray-b -e
```

#### ุจุฑุฑุณโูุง ุณูุงูุช ุณุฑูุฑ A

```bash
# ุจุฑุฑุณ ุงูฺฉู ูพูุฑุชโูุง ุฏุฑ ุญุงู ฺฏูุด ุฏุงุฏู ูุณุชูุฏ
ss -tlnp | grep -E ':(80|443|8080|8443)\s'

# ุจุฑุฑุณ ูุถุนุช ุณุฑูุณ
systemctl status xray-a

# ุจุฑุฑุณ ูุงฺฏโูุง
journalctl -u xray-a -e
```

#### ุชุณุช End-to-End

1. ุณุฑูุณ ุชุณุช ุฑุง ุฑู ุณุฑูุฑ B ุดุฑูุน ฺฉูุฏ:
   ```bash
   # ุฑู ุณุฑูุฑ B
   sudo nc -l 127.0.0.1 8080
   ```

2. ุงุฒ ฺฉูุงูุช ุจู ุณุฑูุฑ A ูุชุตู ุดูุฏ:
   ```bash
   # ุงุฒ ฺฉูุงูุช
   nc server-a-ip 8080
   ```

3. ูพุงูโูุง ุฑุง ุชุงูพ ฺฉูุฏ - ุจุงุฏ ุฏุฑ ุฌูุณู nc ุณุฑูุฑ B ุธุงูุฑ ุดููุฏ.

### ๐ง ุนุจโุงุจ

#### ูุณุงุฆู ุฑุงุฌ

1. **ุฎุทุงูุง ฺฏูุงู**: ุงุทููุงู ุญุงุตู ฺฉูุฏ ฺฉู DNS ุฏุงููู ุจู ุณุฑูุฑ B ุงุดุงุฑู ูโฺฉูุฏ ู ฺฏูุงู ูุนุชุจุฑ ุงุณุช
2. **ุชุฏุงุฎู ูพูุฑุช**: ุจุฑุฑุณ ฺฉูุฏ ฺฉู ูพูุฑุชโูุง ูุจูุงู ุชูุณุท ุณุฑูุณโูุง ุฏฺฏุฑ ุงุณุชูุงุฏู ููโุดููุฏ
3. **ูุดฺฉูุงุช ูุงุฑูุงู**: ููุงูู ูุงุฑูุงู ุฑุง ุจุฑุง ูพูุฑุชโูุง ููุฑุฏ ูุงุฒ ุชุฃุฏ ฺฉูุฏ
4. **ุนุฏู ุชุทุงุจู UUID**: ุงุทููุงู ุญุงุตู ฺฉูุฏ ฺฉู ุณุฑูุฑ A ู B ุงุฒ ููุงู UUID ุงุณุชูุงุฏู ูโฺฉููุฏ

#### ุชุญูู ูุงฺฏ

```bash
# ูุงฺฏโูุง Xray
journalctl -u xray-a -f
journalctl -u xray-b -f

# ูุงฺฏโูุง Nginx
tail -f /var/log/nginx/access.log
tail -f /var/log/nginx/error.log

# ูุงฺฏโูุง ุณุณุชู
dmesg | grep -i xray
```

### ๐ ูุณุชูุฏุงุช

- [README.md](README.md) - ุฑุงูููุง ูุตุจ ฺฉุงูู ุงูฺฏูุณ
- [CONFIGURATION_EXAMPLES.md](CONFIGURATION_EXAMPLES.md) - ูููููโูุง ูพฺฉุฑุจูุฏ
- [PROJECT_SUMMARY.md](PROJECT_SUMMARY.md) - ููุง ฺฉู ูพุฑูฺู

### โ๏ธ ุณูุจ ูุณุฆููุช

ุงู ูพุฑูฺู ููุท ุจุฑุง ููุงุฑุฏ ุงุณุชูุงุฏู ุขููุฒุด ู ูุดุฑูุน ุงุฑุงุฆู ุดุฏู ุงุณุช. ฺฉุงุฑุจุฑุงู ูุณุฆูู ุฑุนุงุช ููุงูู ูุญู ูุณุชูุฏ.

### ๐ ูุฌูุฒ

ุงู ูพุฑูฺู ุชุญุช ูุฌูุฒ MIT ูุฌูุฒ ุฏุงุฑุฏ - ุจุฑุง ุฌุฒุฆุงุช ูุงู LICENSE ุฑุง ุจุจูุฏ.

### ๐ค ูุดุงุฑฺฉุช

ูุดุงุฑฺฉุชโูุง ุฎูุดุงูุฏ ุงุณุช! ูุทูุงู Pull Request ุงุฑุณุงู ฺฉูุฏ.

### ๐ ูพุดุชุจุงู

ุจุฑุง ูุณุงุฆู ู ุณูุงูุงุชุ ูุทูุงู ฺฉ issue ุฏุฑ GitHub ุจุงุฒ ฺฉูุฏ.

---

## ๐ ุงูุชุฎุงุจ ุฒุจุงู

- [English](README.md) - Complete English documentation
- [ูุงุฑุณ](#ูุงุฑุณ) - ูุณุชูุฏุงุช ฺฉุงูู ูุงุฑุณ

## ๐ ุขูุงุฑ ูพุฑูฺู

![GitHub stars](https://img.shields.io/github/stars/letmefind/stealth-multiplex-tunnel-xray?style=social)
![GitHub forks](https://img.shields.io/github/forks/letmefind/stealth-multiplex-tunnel-xray?style=social)
![GitHub issues](https://img.shields.io/github/issues/letmefind/stealth-multiplex-tunnel-xray)
![GitHub license](https://img.shields.io/github/license/letmefind/stealth-multiplex-tunnel-xray)

## ๐ ููฺฉโูุง ุณุฑุน

- **ุฑุงูููุง ูุตุจ**: [README.md](README.md)
- **ูููููโูุง ูพฺฉุฑุจูุฏ**: [CONFIGURATION_EXAMPLES.md](CONFIGURATION_EXAMPLES.md)
- **ุฎูุงุตู ูพุฑูฺู**: [PROJECT_SUMMARY.md](PROJECT_SUMMARY.md)
- **ูุณุงุฆู**: [GitHub Issues](https://github.com/letmefind/stealth-multiplex-tunnel-xray/issues)
- **ุงูุชุดุงุฑุงุช**: [GitHub Releases](https://github.com/letmefind/stealth-multiplex-tunnel-xray/releases)
